<?php

$zoneLookup = array(
	'AL'=>'east',
	'AK'=>'west',
	'AZ'=>'west',
	'AR'=>'east',
	'CA'=>'west',
	'CO'=>'west',
	'CT'=>'east',
	'DE'=>'east',
	'DC'=>'east',
	'FL'=>'east',
	'GA'=>'east',
	'HI'=>'west',
	'ID'=>'west',
	'IL'=>'east',
	'IN'=>'east',
	'IA'=>'east',
	'KS'=>'east',
	'KY'=>'east',
	'LA'=>'east',
	'ME'=>'east',
	'MD'=>'east',
	'MA'=>'east',
	'MI'=>'east',
	'MN'=>'east',
	'MS'=>'east',
	'MO'=>'east',
	'MT'=>'west',
	'NE'=>'west',
	'NV'=>'west',
	'NH'=>'east',
	'NJ'=>'east',
	'NM'=>'west',
	'NY'=>'east',
	'NC'=>'east',
	'ND'=>'west',
	'OH'=>'east',
	'OK'=>'east',
	'OR'=>'west',
	'PA'=>'east',
	'RI'=>'east',
	'SC'=>'east',
	'SD'=>'west',
	'TN'=>'east',
	'TX'=>'east',
	'UT'=>'west',
	'VT'=>'east',
	'VA'=>'east',
	'WA'=>'west',
	'WV'=>'east',
	'WI'=>'east',
	'WY'=>'west',
	'CAN'=>'canada',
);

$zoneRates = array(
		'west' => array(
								array(0.00,100.00,7.50),
								array(101.00,350.00,22.50),
								array(351.00,600.00,47.50),
								array(601.00,850.00,72.50),
								array(851.00,1100.00,97.50),
								array(1101.00,1350.00,122.50),
								array(1351.00,1600.00,147.50),
								array(1601.00,1850.00,172.50),
								array(1851.00,2100.00,197.50),
								array(2101.00,2350.00,222.50),
								array(2351.00,2600.00,247.50),
								array(2601.00,2850.00,272.50),
								array(2851.00,3100.00,297.50),
								array(3101.00,3350.00,322.50),
								array(3351.00,3600.00,347.50),
								array(3601.00,3850.00,372.50),
								array(3851.00,4100.00,397.50),
								array(4101.00,4350.00,422.50),
								array(4351.00,4600.00,447.50),
								array(4601.00,4850.00,472.50),
								array(4851.00,5100.00,497.50),
								array(5101.00,5350.00,522.50),
								array(5351.00,5600.00,547.50),
								array(5601.00,5850.00,572.50),
								array(5851.00,6100.00,597.50),
								array(6101.00,6350.00,622.50),
								array(6351.00,6600.00,647.50),
								array(6601.00,6850.00,672.50),
								array(6851.00,7100.00,697.50),
								array(7101.00,7350.00,722.50),
								array(7351.00,7600.00,747.50),
								array(7601.00,7850.00,772.50),
								array(7851.00,8100.00,797.50),
								array(8101.00,8350.00,822.50),
								array(8351.00,8600.00,847.50),
								array(8601.00,8850.00,872.50),
								array(8851.00,9100.00,897.50),
								array(9101.00,9350.00,922.50),
								array(9351.00,9600.00,947.50),
								array(9601.00,9850.00,972.50),
								array(9851.00,10100.00,997.50),
								array(10101.00,10350.00,1022.50),
								array(10351.00,10600.00,1047.50),
								array(10601.00,10850.00,1072.50),
								array(10851.00,11100.00,1097.50),
								array(11101.00,11350.00,1122.50),
								array(11351.00,11600.00,1147.50),
								array(11601.00,11850.00,1172.50),
								array(11851.00,12100.00,1197.50),
								array(12101.00,12350.00,1222.50),
								array(12351.00,12600.00,1247.50),
								array(12601.00,12850.00,1272.50),
								array(12851.00,13100.00,1297.50),
								array(13101.00,13350.00,1322.50),
								array(13351.00,13600.00,1347.50),
								array(13601.00,13850.00,1372.50),
								array(13851.00,14100.00,1397.50),
								array(14101.00,14350.00,1422.50),
								array(14351.00,14600.00,1447.50),
								array(14601.00,14850.00,1472.50),
								array(14851.00,15100.00,1497.50),
								array(15101.00,15350.00,1522.50),
								array(15351.00,15600.00,1547.50),
								array(15601.00,15850.00,1572.50),
								array(15851.00,16100.00,1597.50),
								array(16101.00,16350.00,1622.50),
								array(16351.00,16600.00,1647.50),
								array(16601.00,16850.00,1672.50),
								array(16851.00,17100.00,1697.50),
								array(17101.00,17350.00,1722.50),
								array(17351.00,17600.00,1747.50),
								array(17601.00,17850.00,1772.50),
								array(17851.00,18100.00,1797.50),
								array(18101.00,18350.00,1822.50),
								array(18351.00,18600.00,1847.50),
								array(18601.00,18850.00,1872.50),
								array(18851.00,19100.00,1897.50),
								array(19101.00,19350.00,1922.50),
								array(19351.00,19600.00,1947.50),
								array(19601.00,19850.00,1972.50),
								array(19851.00,20100.00,1997.50),
			),

		'east' => array(
								array(0.00,100.00,7.50),
								array(101.00,350.00,13.50),
								array(351.00,600.00,28.50),
								array(601.00,850.00,43.50),
								array(851.00,1100.00,58.50),
								array(1101.00,1350.00,73.50),
								array(1351.00,1600.00,88.50),
								array(1601.00,1850.00,103.50),
								array(1851.00,2100.00,118.50),
								array(2101.00,2350.00,133.50),
								array(2351.00,2600.00,148.50),
								array(2601.00,2850.00,163.50),
								array(2851.00,3100.00,178.50),
								array(3101.00,3350.00,193.50),
								array(3351.00,3600.00,208.50),
								array(3601.00,3850.00,223.50),
								array(3851.00,4100.00,238.50),
								array(4101.00,4350.00,253.50),
								array(4351.00,4600.00,268.50),
								array(4601.00,4850.00,283.50),
								array(4851.00,5100.00,298.50),
								array(5101.00,5350.00,313.50),
								array(5351.00,5600.00,328.50),
								array(5601.00,5850.00,343.50),
								array(5851.00,6100.00,358.50),
								array(6101.00,6350.00,373.50),
								array(6351.00,6600.00,388.50),
								array(6601.00,6850.00,403.50),
								array(6851.00,7100.00,418.50),
								array(7101.00,7350.00,433.50),
								array(7351.00,7600.00,448.50),
								array(7601.00,7850.00,463.50),
								array(7851.00,8100.00,478.50),
								array(8101.00,8350.00,493.50),
								array(8351.00,8600.00,508.50),
								array(8601.00,8850.00,523.50),
								array(8851.00,9100.00,538.50),
								array(9101.00,9350.00,553.50),
								array(9351.00,9600.00,568.50),
								array(9601.00,9850.00,583.50),
								array(9851.00,10100.00,598.50),
								array(10101.00,10350.00,613.50),
								array(10351.00,10600.00,628.50),
								array(10601.00,10850.00,643.50),
								array(10851.00,11100.00,658.50),
								array(11101.00,11350.00,673.50),
								array(11351.00,11600.00,688.50),
								array(11601.00,11850.00,703.50),
								array(11851.00,12100.00,718.50),
								array(12101.00,12350.00,733.50),
								array(12351.00,12600.00,748.50),
								array(12601.00,12850.00,763.50),
								array(12851.00,13100.00,778.50),
								array(13101.00,13350.00,793.50),
								array(13351.00,13600.00,808.50),
								array(13601.00,13850.00,823.50),
								array(13851.00,14100.00,838.50),
								array(14101.00,14350.00,853.50),
								array(14351.00,14600.00,868.50),
								array(14601.00,14850.00,883.50),
								array(14851.00,15100.00,898.50),
								array(15101.00,15350.00,913.50),
								array(15351.00,15600.00,928.50),
								array(15601.00,15850.00,943.50),
								array(15851.00,16100.00,958.50),
								array(16101.00,16350.00,973.50),
								array(16351.00,16600.00,988.50),
								array(16601.00,16850.00,1003.50),
								array(16851.00,17100.00,1018.50),
								array(17101.00,17350.00,1033.50),
								array(17351.00,17600.00,1048.50),
								array(17601.00,17850.00,1063.50),
								array(17851.00,18100.00,1078.50),
								array(18101.00,18350.00,1093.50),
								array(18351.00,18600.00,1108.50),
								array(18601.00,18850.00,1123.50),
								array(18851.00,19100.00,1138.50),
								array(19101.00,19350.00,1153.50),
								array(19351.00,19600.00,1168.50),
								array(19601.00,19850.00,1183.50),
								array(19851.00,20100.00,1198.50),
			),
		'canada' => array(
								array(0.00,100.00,7.50),
								array(101.00,350.00,31.50),
								array(351.00,600.00,66.50),
								array(601.00,850.00,101.50),
								array(851.00,1100.00,136.50),
								array(1101.00,1350.00,171.50),
								array(1351.00,1600.00,206.50),
								array(1601.00,1850.00,241.50),
								array(1851.00,2100.00,276.50),
								array(2101.00,2350.00,311.50),
								array(2351.00,2600.00,346.50),
								array(2601.00,2850.00,381.50),
								array(2851.00,3100.00,416.50),
								array(3101.00,3350.00,451.50),
								array(3351.00,3600.00,486.50),
								array(3601.00,3850.00,521.50),
								array(3851.00,4100.00,556.50),
								array(4101.00,4350.00,591.50),
								array(4351.00,4600.00,626.50),
								array(4601.00,4850.00,661.50),
								array(4851.00,5100.00,696.50),
								array(5101.00,5350.00,731.50),
								array(5351.00,5600.00,766.50),
								array(5601.00,5850.00,801.50),
								array(5851.00,6100.00,836.50),
								array(6101.00,6350.00,871.50),
								array(6351.00,6600.00,906.50),
								array(6601.00,6850.00,941.50),
								array(6851.00,7100.00,976.50),
								array(7101.00,7350.00,1011.50),
								array(7351.00,7600.00,1046.50),
								array(7601.00,7850.00,1081.50),
								array(7851.00,8100.00,1116.50),
								array(8101.00,8350.00,1151.50),
								array(8351.00,8600.00,1186.50),
								array(8601.00,8850.00,1221.50),
								array(8851.00,9100.00,1256.50),
								array(9101.00,9350.00,1291.50),
								array(9351.00,9600.00,1326.50),
								array(9601.00,9850.00,1361.50),
								array(9851.00,10100.00,1396.50),
								array(10101.00,10350.00,1431.50),
								array(10351.00,10600.00,1466.50),
								array(10601.00,10850.00,1501.50),
								array(10851.00,11100.00,1536.50),
								array(11101.00,11350.00,1571.50),
								array(11351.00,11600.00,1606.50),
								array(11601.00,11850.00,1641.50),
								array(11851.00,12100.00,1676.50),
								array(12101.00,12350.00,1711.50),
								array(12351.00,12600.00,1746.50),
								array(12601.00,12850.00,1781.50),
								array(12851.00,13100.00,1816.50),
								array(13101.00,13350.00,1851.50),
								array(13351.00,13600.00,1886.50),
								array(13601.00,13850.00,1921.50),
								array(13851.00,14100.00,1956.50),
								array(14101.00,14350.00,1991.50),
								array(14351.00,14600.00,2026.50),
								array(14601.00,14850.00,2061.50),
								array(14851.00,15100.00,2096.50),
								array(15101.00,15350.00,2131.50),
								array(15351.00,15600.00,2166.50),
								array(15601.00,15850.00,2201.50),
								array(15851.00,16100.00,2236.50),
								array(16101.00,16350.00,2271.50),
								array(16351.00,16600.00,2306.50),
								array(16601.00,16850.00,2341.50),
								array(16851.00,17100.00,2376.50),
								array(17101.00,17350.00,2411.50),
								array(17351.00,17600.00,2446.50),
								array(17601.00,17850.00,2481.50),
								array(17851.00,18100.00,2516.50),
								array(18101.00,18350.00,2551.50),
								array(18351.00,18600.00,2586.50),
								array(18601.00,18850.00,2621.50),
								array(18851.00,19100.00,2656.50),
								array(19101.00,19350.00,2691.50),
								array(19351.00,19600.00,2726.50),
								array(19601.00,19850.00,2761.50),
								array(19851.00,20100.00,2796.50),
			)
	);

$state = isset($_GET['state']) ? $_GET['state'] : 0;
$value = isset($_GET['value']) ? $_GET['value'] : 0;
$fee   = 0;

if ($state && $value) {
	if (array_key_exists($state, $zoneLookup)) {
		$zone = $zoneLookup[$state];
		if ($zone && array_key_exists($zone, $zoneRates)) {
			$zoneRates = $zoneRates[$zone];
			foreach ($zoneRates as $minMaxFee) {
				if ($value >= $minMaxFee[0] && $value <= $minMaxFee[1]) {
					$fee = $minMaxFee[2];
					break;
				}
			}
		}
	}
}
echo json_encode(array('state' => $state, 'value' => $value, 'fee' => $fee));
exit();